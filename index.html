<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A/B Testing</title>
    <style>
        /* Styles here */
    </style>
</head>

<body>
    <div class="container">
        <!-- Video elements and form inputs here -->
    </div>

    <script>
        function updateVideo(video) {
            // Update video function here
        }

        function saveABTest() {
            var videoA = {
                thumbnail: document.getElementById('thumbnailA').value,
                title: document.getElementById('titleA').value,
                creator: document.getElementById('creatorA').value
            };
            var videoB = {
                thumbnail: document.getElementById('thumbnailB').value,
                title: document.getElementById('titleB').value,
                creator: document.getElementById('creatorB').value
            };

            var abTest = {
                videoA: videoA,
                videoB: videoB
            };

            var abTestCode = btoa(JSON.stringify(abTest)); // Encode the A/B test data to base64

            // Redirect to the URL with the A/B test code as a parameter
            window.location.href = window.location.origin + '/ab/' + abTestCode;
        }

        function loadABTest() {
            var abTestCode = window.location.pathname.split('/').pop(); // Get the A/B test code from the URL
            if (abTestCode) {
                try {
                    var abTest = JSON.parse(atob(abTestCode)); // Decode and parse the A/B test data from base64
                    document.getElementById('thumbnailA').value = abTest.videoA.thumbnail;
                    document.getElementById('titleA').value = abTest.videoA.title;
                    document.getElementById('creatorA').value = abTest.videoA.creator;
                    document.getElementById('thumbnailB').value = abTest.videoB.thumbnail;
                    document.getElementById('titleB').value = abTest.videoB.title;
                    document.getElementById('creatorB').value = abTest.videoB.creator;
                    updateVideo('A');
                    updateVideo('B');
                    alert('A/B test loaded!');
                } catch (error) {
                    alert('Error loading A/B test: ' + error.message);
                }
            } else {
                alert('No A/B test code found in the URL.');
            }
        }

        // Load the A/B test when the page loads
        loadABTest();
    </script>
</body>

</html>
